<div class="auth-container">
  <div class="auth-card">
    <h2 class="auth-title">إعادة تعيين كلمة المرور</h2>
    
    @if (!isEmailSent) {
      <div>
        <p class="auth-description">أدخل بريدك الإلكتروني وسنرسل لك رابطاً لإعادة تعيين كلمة المرور</p>
        
        <form [formGroup]="resetForm" (ngSubmit)="onSubmit()" class="auth-form">
          <div class="form-group">
            <label for="email">البريد الإلكتروني</label>
            <input
              type="email"
              id="email"
              formControlName="email"
              class="form-control"
              [class.is-invalid]="resetForm.get('email')?.invalid && resetForm.get('email')?.touched"
            />
            @if (resetForm.get('email')?.invalid && resetForm.get('email')?.touched) {
              <div class="invalid-feedback">
                @if (resetForm.get('email')?.errors?.['required']) {
                  <span>البريد الإلكتروني مطلوب</span>
                }
                @if (resetForm.get('email')?.errors?.['email']) {
                  <span>يرجى إدخال بريد إلكتروني صحيح</span>
                }
              </div>
            }
          </div>

          <div class="form-actions">
            <button type="submit" class="btn btn-primary" [disabled]="resetForm.invalid || isLoading">
              @if (isLoading) {
                جاري الإرسال...
              } @else {
                إرسال رابط إعادة التعيين
              }
            </button>
          </div>
        </form>
      </div>
    }

    @if (isEmailSent) {
      <div class="success-message">
        <div class="success-icon">✓</div>
        <h3>تم إرسال رابط إعادة التعيين</h3>
        <p>يرجى التحقق من بريدك الإلكتروني للحصول على رابط إعادة تعيين كلمة المرور</p>
      </div>
    }

    <div class="auth-links">
      <a (click)="navigateToLogin()" class="auth-link">العودة إلى تسجيل الدخول</a>
    </div>
  </div>
</div> 