<div class="min-h-[100vh] pt-20  flex items-center justify-center bg-[#f7f7f7]">
  <div class="bg-white rounded-2xl shadow-lg p-10 w-full max-w-md flex flex-col items-center">
    <img src="assets/images/logo.png" alt="Signtech logo" class="w-20 h-20 mb-4" />
    <h1 class="text-3xl font-bold mb-2 font-['Inter','DM_Serif_Display',Helvetica]">
      {{ 'GENERAL.SUPPORT' | translate }}<span class="text-[var(--main-color)]">{{ 'GENERAL.LINK' | translate }}</span>
    </h1>
    <h2 class="text-xl font-['DM_Serif_Display',Helvetica] mb-1">
      {{ 'SIGNUP.GET_STARTED' | translate }} <span class="text-blue-600">Signtech</span>
    </h2>
    <ng-container *ngIf="!showOtpScreen; else otpScreen">
      <p class="mb-6 text-gray-500">{{ 'SIGNUP.CREATE_ACCOUNT' | translate }}</p>
      <form [formGroup]="signupForm" (ngSubmit)="onSubmit()" class="w-full space-y-4">
        <div class="relative">
          <input type="email" formControlName="email" placeholder="{{ 'SIGNUP.EMAIL_LABEL' | translate }}"
            class="w-full px-4 py-3 rounded-lg bg-[#f7f8fa] border border-transparent focus:border-[var(--main-color)] focus:bg-white outline-none" />
          <span class="absolute left-3 top-1/2 -translate-y-1/2 text-gray-400">
            <i class="fa fa-envelope"></i>
          </span>
          <div class="text-xs text-red-500 mt-1"
            *ngIf="signupForm.get('email')?.invalid && signupForm.get('email')?.touched">
            <span *ngIf="signupForm.get('email')?.errors?.['required']">{{ 'SIGNUP.EMAIL_REQUIRED' | translate }}</span>
            <span *ngIf="signupForm.get('email')?.errors?.['email']">{{ 'SIGNUP.EMAIL_INVALID' | translate }}</span>
          </div>
        </div>
        <div class="relative">
          <input [type]="showPassword ? 'text' : 'password'" formControlName="password"
            placeholder="{{ 'SIGNUP.PASSWORD_LABEL' | translate }}"
            class="w-full px-4 py-3 rounded-lg bg-[#f7f8fa] border border-transparent focus:border-[var(--main-color)] focus:bg-white outline-none" />
          <span class="absolute left-3 top-1/2 -translate-y-1/2 text-gray-400">
            <i class="fa fa-lock"></i>
          </span>
          <span class="absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 cursor-pointer"
            (click)="showPassword = !showPassword">
            <i class="fa" [ngClass]="showPassword ? 'fa-eye' : 'fa-eye-slash'"></i>
          </span>
          <div class="text-xs text-red-500 mt-1"
            *ngIf="signupForm.get('password')?.invalid && signupForm.get('password')?.touched">
            <span *ngIf="signupForm.get('password')?.errors?.['required']">{{ 'SIGNUP.PASSWORD_REQUIRED' | translate
              }}</span>
            <span *ngIf="signupForm.get('password')?.errors?.['minlength']">{{ 'SIGNUP.PASSWORD_MINLENGTH' | translate
              }}</span>
            <span *ngIf="signupForm.get('password')?.errors?.['pattern']">{{ 'SIGNUP.PASSWORD_PATTERN' | translate
              }}</span>
          </div>
        </div>
        <p class="text-xs text-gray-400 text-center" [innerHTML]="'SIGNUP.PASSWORD_HINT' | translate"></p>
        <div class="text-center text-sm text-gray-500">
          {{ 'SIGNUP.ALREADY_HAVE_ACCOUNT' | translate }}
          <a (click)="navigateToLogin()" class="text-blue-600 font-semibold hover:underline cursor-pointer">
            {{ 'SIGNUP.LOGIN' | translate }}
          </a>
        </div>
        <button type="submit"
          class="w-full py-3 rounded-xl bg-[var(--main-color)] text-white font-bold text-lg mt-2 transition hover:bg-orange-600 cursor-pointer"
          [disabled]="signupForm.invalid || isLoading">
          <ng-container *ngIf="isLoading; else nextText">{{ 'SIGNUP.CREATING' | translate }}</ng-container>
          <ng-template #nextText>{{ 'SIGNUP.NEXT' | translate }}</ng-template>
        </button>
      </form>
    </ng-container>
    <ng-template #otpScreen>
      <p class="mb-6 text-gray-500">{{ 'OTP.CREATE_ACCOUNT' | translate }}</p>
      <form [formGroup]="otpForm" (ngSubmit)="onOtpSubmit()" class="w-full space-y-4">
        <div class="relative">
          <input type="text" maxlength="6" formControlName="otp" placeholder="{{ 'OTP.ENTER_OTP' | translate }}"
            class="w-full px-4 py-3 rounded-lg bg-[#f7f8fa] border border-transparent focus:border-[var(--main-color)] focus:bg-white outline-none text-xl" />
          <span class="absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 text-lg">
            <i class="fa fa-hashtag"></i>
          </span>
          <div class="text-xs text-red-500 mt-1" *ngIf="otpForm.get('otp')?.invalid && otpForm.get('otp')?.touched">
            <span *ngIf="otpForm.get('otp')?.errors?.['required']">{{ 'OTP.OTP_REQUIRED' | translate }}</span>
            <span *ngIf="otpForm.get('otp')?.errors?.['minlength']">{{ 'OTP.OTP_MINLENGTH' | translate }}</span>
          </div>
        </div>
        <button type="submit"
          class="w-full py-3 rounded-xl bg-[var(--main-color)] text-white font-bold text-lg mt-2 transition hover:bg-orange-600"
          [disabled]="otpForm.invalid  || isLoading">
          <ng-container *ngIf="isLoading; else nextText">{{ 'OTP.VERIFYING' | translate }}</ng-container>
          <ng-template #nextText>{{ 'OTP.NEXT' | translate }}</ng-template>
        </button>
      </form>
    </ng-template>
  </div>
</div>